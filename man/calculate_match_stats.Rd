% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prep_geonames.R
\name{calculate_match_stats}
\alias{calculate_match_stats}
\title{Calculate and report geo-naming match statistics}
\usage{
calculate_match_stats(
  data,
  lookup_data,
  level0 = NULL,
  level1 = NULL,
  level2 = NULL,
  level3 = NULL,
  level4 = NULL
)
}
\arguments{
\item{data}{A data frame containing the target data to be matched.}

\item{lookup_data}{A data frame serving as the reference for matching.}

\item{level0}{Column name (country) present in both \code{data} and \code{lookup_data}.}

\item{level1}{Column name (province/state/region) present in both datasets.}

\item{level2}{Column name (district) present in both datasets.}

\item{level3}{Column name (subdistrict) present in both datasets.}

\item{level4}{Column name (settlement) present in both datasets.}
}
\value{
Invisibly returns \code{NULL}. Output is produced via \code{cli} messages.
}
\description{
Compares entries in a dataset against a lookup across specified admin levels
(e.g., country, province/state/region, district, subdistrict, settlement)
and reports match statistics to the console.
}
\details{
\itemize{
\item Input columns supplied via \verb{level*} are normalized to lower case before
matching.
\item \emph{Base N} for each side is the count of \strong{unique hierarchical names}
formed from the supplied levels (e.g., \code{level0_level1_...}). Per-level
rows show matches out of each side's Base N.
\item Console output includes:
\enumerate{
\item a two-column summary (Target vs Lookup as base N),
\item side-level completeness messages (success/info/warning),
\item a per-level report of \strong{missing names} (NA or empty strings) on
either side. These missing names are \strong{not included in N} only if the
implementation drops them before counting (see Note below).
}
}
}
\note{
If you want missing names (NA/empty) \strong{excluded from Base N}, ensure the
key-building step drops them before counting (see example patch below).
}
\examples{
# minimal runnable example (toy data)
data <- data.frame(
  country = c("Kenya", "Kenya", "Uganda"),
  district = c("Nairobi", "Kisumu", "Kampala")
)
lookup <- data.frame(
  country = c("Kenya", "Uganda"),
  district = c("Nairobi", "Kampala")
)
calculate_match_stats(
  data, lookup, level0 = "country", level2 = "district"
)
}
